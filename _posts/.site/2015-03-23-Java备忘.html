<h1 id="hashmapkey">HashMap用自定义类作为key</h1>

<h3 id="java-hashmapkeyhttpblogcsdnnetcrushonarticledetails18358549">参见：<a href="http://blog.csdn.net/crush_on/article/details/18358549">java HashMap用自定义类作为key</a></h3>

<!--more-->

<p>保证 <code>public boolean equals(Object obj)</code> 能正确区分即可，为了加快速度可以再重载 <code>public int hashCode()</code></p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="lineno"> 1</span> <span class="kd">class</span> <span class="nc">IntPair</span><span class="o">{</span>
<span class="lineno"> 2</span> 	<span class="kd">private</span> <span class="kt">int</span> <span class="n">i1</span><span class="o">;</span>
<span class="lineno"> 3</span> 	<span class="kd">private</span> <span class="kt">int</span> <span class="n">i2</span><span class="o">;</span>
<span class="lineno"> 4</span> 	<span class="kd">public</span> <span class="nf">IntPair</span><span class="o">(</span><span class="kt">int</span> <span class="n">i1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i2</span><span class="o">){</span>
<span class="lineno"> 5</span> 		<span class="k">this</span><span class="o">.</span><span class="na">i1</span> <span class="o">=</span> <span class="n">i1</span><span class="o">;</span>
<span class="lineno"> 6</span> 		<span class="k">this</span><span class="o">.</span><span class="na">i2</span> <span class="o">=</span> <span class="n">i2</span><span class="o">;</span>
<span class="lineno"> 7</span> 	<span class="o">}</span>
<span class="lineno"> 8</span> 		
<span class="lineno"> 9</span> 	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">){</span>
<span class="lineno">10</span> 		<span class="k">if</span><span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">)</span><span class="c1">//判断是否是本类的一个引用</span>
<span class="lineno">11</span> 			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="lineno">12</span> 		<span class="k">if</span><span class="o">(</span><span class="n">obj</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span><span class="c1">//</span>
<span class="lineno">13</span> 			<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>			
<span class="lineno">14</span> 		<span class="n">IntPair</span> <span class="n">pair</span> <span class="o">=</span> <span class="o">(</span><span class="n">IntPair</span><span class="o">)</span><span class="n">obj</span><span class="o">;</span>
<span class="lineno">15</span> 		<span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">i1</span> <span class="o">!=</span> <span class="n">pair</span><span class="o">.</span><span class="na">i1</span><span class="o">)</span>
<span class="lineno">16</span> 			<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
<span class="lineno">17</span> 		<span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">i2</span> <span class="o">!=</span> <span class="n">pair</span><span class="o">.</span><span class="na">i2</span><span class="o">)</span>
<span class="lineno">18</span> 			<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
<span class="lineno">19</span> 		<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="lineno">20</span> 	<span class="o">}</span>
<span class="lineno">21</span> 		
<span class="lineno">22</span> 	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">(){</span>
<span class="lineno">23</span> 		<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">17</span><span class="o">;</span>
<span class="lineno">24</span> 		<span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">*</span> <span class="mi">31</span> <span class="o">+</span> <span class="n">i1</span><span class="o">;</span>
<span class="lineno">25</span> 		<span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">*</span> <span class="mi">31</span> <span class="o">+</span> <span class="n">i2</span><span class="o">;</span>
<span class="lineno">26</span> 		<span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="lineno">27</span> 	<span class="o">}</span>
<span class="lineno">28</span> <span class="o">}</span></code></pre></div>

<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="no comment!" data-title="" data-url=""></div>
